---
title: "results"
author: "Najko Jahn"
date: "7/7/2020"
output: github_document
---

```{r, setup, echo=FALSE}
knitr::opts_chunk$set(
  comment = "#>",
  collapse = TRUE,
  warning = FALSE,
  message = FALSE,
  echo = TRUE,
  fig.width = 6,
  fig.asp = 0.618,
  out.width = "70%",
  fig.align = "center",
  dpi = 300
)
options(scipen = 999, digits = 4)
knitr::knit_hooks$set(
  inline = function(x) {
    if (is.numeric(x)) {
      return(prettyNum(x, big.mark = ","))
    } else{
      return(x)
    }
  }
)
```


## Results

### Uptake

#### How many Elsevier journals supported the hybrid model? How many of them flipped to fully open access? 

to do

#### What is the uptake of open access in Elsevier's hybrid journal portfolio?

*Number and percentage of journals with at least one article*

```{r}
library(tidyverse)
library(here)
els_jns_df <- readr::read_csv(here::here("data", "elsevier_apc_list.csv"))
```

To determine the number of Elsevier hybrid journals with at least one open access article, we downloaded and parsed the publisher's APC pricing list from 31 May 2020. The list comprised `r length(unique(els_jns_df$issn))` journals, of which `r els_jns_df %>% filter(oa_type == "Hybrid") %>% distinct(issn) %>% nrow()` supported the hybrid model, representing a share of `r round(els_jns_df %>% filter(oa_type == "Hybrid") %>% distinct(issn) %>% nrow() / length(unique(els_jns_df$issn)) * 100, 0)`%. 
```{r}
hybrid_md <- readr::read_csv(here::here("data", "hybrid_md.csv"))
els_tdm <- readr::read_csv(here::here("data", "els_tmd_links.csv"))
invoice_df <-  readr::read_csv(here::here("data", "invoice_df.csv"))

hybrid_df <- els_tdm %>% 
  select(doi, URL) %>% 
  inner_join(invoice_df, by = c("URL" = "tdm_url")) %>% 
  select(-URL) %>% 
  inner_join(hybrid_md, by = c("doi")) %>% 
  distinct()
```

Of those, `r hybrid_df %>% filter(oa_archive == FALSE) %>% distinct(issn) %>% nrow()` hybrid journals published at least one open access article immediately under a Creative Commons license between 2015 and 2019, corresponding to about `r round(hybrid_df %>% filter(oa_archive == FALSE) %>% distinct(issn) %>% nrow() / els_jns_df %>% filter(oa_type == "Hybrid") %>% nrow() * 100, 0)`% of journal titles in Elsevierâ€™s hybrid journal portfolio. At the same time, `r 100 - round(hybrid_df %>% filter(oa_archive == FALSE) %>% distinct(issn) %>% nrow() / els_jns_df %>% filter(oa_type == "Hybrid") %>% nrow() * 100, 0)`% of hybrid journals did not published an open access article in this period and were, thus, excluded from further analysis.

```{r}
eligible_jns <- hybrid_df %>% 
  filter(oa_archive == FALSE) %>% 
  distinct(issn)
```

*Number and percentage of open access articles per hybrid journal*

We used the Crossref index to determine the overall article volume of Elsevier's hybrid journal portfolio, and to related it to the number of open access articles.
Because DOIs can be also issued to abstracts presented at scientific meetings and non-scholarly journal content including table of contents and list of reviewers, we furthermore distinguished between citing and non-citing articles defined by the number of deposited references in Crossref per article, regardless of whether they are public or not.

Table presents the high-level findings by year of publication. illustrating a growth  









